# 概念
远程过程调用（英语：Remote Procedure Call，缩写为 RPC）是一个计算机通信协议。该协议允许运行于一台计算机的程序调用另一台计算机的子程序，而程序员无需额外地为这个交互作用编程。如果涉及的软件采用面向对象编程，那么远程过程调用亦可称作远程调用或远程方法调用，例：Java RMI。

RPC是进程间通信（IPC）的一种形式，因为不同的进程具有不同的地址空间：如果在同一主机上，它们具有不同的虚拟地址空间，即使物理地址空间相同。而如果他们在不同的主机上，物理地址空间是不同的。许多不同的（通常是不相容的）技术已经被用来实现这个概念。

# 结构
客户端服务器端（CS）模式，调用方是client,远程被调用方为server.

# 工作原理
1.调用客户端句柄；执行传送参数
2.调用本地系统内核发送网络消息
3.消息传送到远程主机
4.服务器句柄得到消息并取得参数
5.执行远程过程
6.执行的过程将结果返回服务器句柄
7.服务器句柄返回结果，调用远程系统内核
8.消息传回本地主机
9.客户句柄由内核接收消息
10.客户接收句柄返回的数据

# 为什么要使用rpc
1.可以做到分布式，现代化的微服务
2.部署灵活
3.解耦服务
4.扩展性强

RPC的目的是让你在本地调用远程的方法，而对你来说这个调用是透明的，你并不知道这个调用的方法是部署哪里。通过RPC能解耦服务，这才是使用RPC的真正目的。

# 适用场景
1.分布式中
2.公司内部系统
>一旦踏入公司尤其是大型互联网公司就会发现，公司的系统都由成千上万大大小小的服务组成，各服务部署在不同的机器上，由不同的团队负责。这时就会遇到两个问题：1）要搭建一个新服务，免不了需要依赖他人的服务，而现在他人的服务都在远端，怎么调用？2）其它团队要使用我们的服务，我们的服务该怎么发布以便他人调用？

>http vs rpc
>>http 优点:
>>>1.协议统一，各个平台几乎都原生支持HTTP
2.调用简单，直接
3.开发方便
>>rpc 优点：
>>>1.RPC框架一般使用长链接，不必每次通信都要3次握手，减少网络开销
2.RPC框架一般都有注册中心，有丰富的监控管理
3.发布、下线接口、动态扩展等，对调用方来说是无感知、统一化的操作
4.协议私密，安全性较高
5.rpc 协议更简单内容更小，效率更高
6.服务化架构、服务化治理，RPC框架是一个强力的支撑

